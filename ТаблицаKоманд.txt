№ - действие - Команда из программы АГЗС - Ответ контроллера - комментарий
1. Заправка 1.55 литра на вторую колонку
n21.55;
21.55;
Проверяем правильность ответа того что отослали с тем что пришло: если true то пункт №2, если false пункт №7
2. Посылаем подтверждение правильности ответа на вторую колонку
n2p
2l0.00 s0.00
Ответ приходит после нажатия пуск в программе либо после нажатия пуск на колонке. Если ответ был можно переходить к пункту №3 либо №4 если ответа нет пункт №7
3. Запрос информации о заправке
n25i
2l1.20 s10.50
Если получили ответ из пункта №2 значит заправка начата и можно прашивать информацию.
Отправили-получили-обновили окно оператора новыми данными-снова отправили и т. д.
Ответ о завершении заправки приходит автоматом смотреть пункты №5 и №6
4. Пуск из программы
n2e
2l0.00 s0.00
Приходит тоже самое что в пункте №2
5. «ОСТАНОВЛЕНО»
нет
2l1.20 s10.50!!
остановлено кнопкой или мал расход топлива
6. «ЗАПРАВЛЕНО»
нет
2l1.55 s15.50!
литраж из пункта №1 заправлен (1.55 лит.)
7. «РЕСЕТ»
n+номер&
restart: В случае с 2й колонкой 2restart
Если в контроллере всё повисло все переменные чищаю-зануляю обновляю..... после получения ответа повторяем с пункта №1
8. Назначить новый номер колонке. №0->№2
n0r2;
02.00;
После получения ответа можно писать что присвоено (первая цифра это номер колонки которую решили переименовывать, вторая на какую переименовали )
 остальные .00; это в принципе не в счёт это мой стандартный обработчик чисел дописывает.
9. Юстировка.
n2k1.10
21.10

Желательно сверить с тем что посылали, если оно значит присвоено если нет значит пункт №7

--------------------------------------------------------------------------------------------
АГЗС, [28.07.20 10:55]
И короче говоря во всех не понятных ситуациях когда ждём ответ а его нету пункт номер 7
АГЗС, [28.07.20 10:56]
Только не просто &  а  n+номер& забыл я там написать
АГЗС, [28.07.20 10:57]
Иначе всех сразу скинем
